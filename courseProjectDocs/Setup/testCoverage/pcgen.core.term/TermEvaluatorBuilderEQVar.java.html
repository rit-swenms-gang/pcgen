<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TermEvaluatorBuilderEQVar.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">pcgen</a> &gt; <a href="index.source.html" class="el_package">pcgen.core.term</a> &gt; <span class="el_source">TermEvaluatorBuilderEQVar.java</span></div><h1>TermEvaluatorBuilderEQVar.java</h1><pre class="source lang-java linenums">/**
 * Copyright 2008 Andrew Wilson
 * &lt;nuance@users.sourceforge.net&gt;.
 *
 * This library is free software; you can redistribute it and/or modify it under
 * the terms of the GNU Lesser General Public License as published by the Free
 * Software Foundation; either version 2.1 of the License, or (at your option)
 * any later version.
 *
 * This library is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License
 * for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this library; if not, write to the Free Software Foundation, Inc.,
 * 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * Created 03 Oct 2008
 */

package pcgen.core.term;

/**
 * {@code EvaluatorFactoryEQVar}
 *
 * This individual enumerations in this class are each responsible for making
 * and returning an object that implements the TermEvaluator interface.  Each
 * enumeration has a regular expression that matches one of the &quot;hardcoded&quot;
 * internal variables that every piece of equipment has a value for.  They also
 * have an array of string keys that enumerate every string that the regular
 * expression can match (this is not as bad as it sounds since each can only
 * match at most eight strings).  The array of string is used to populate a
 * {@code Map&lt;String, Enum&gt;}
 */

<span class="nc" id="L37">public enum TermEvaluatorBuilderEQVar implements TermEvaluatorBuilder</span>
{

<span class="nc" id="L40">	COMPLETE_EQ_ALTPLUSTOTAL(&quot;ALTPLUSTOTAL&quot;, new String[]{&quot;ALTPLUSTOTAL&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc" id="L48">			return new EQAltPlusTotalTermEvaluator(expressionString);</span>
		}
	},

<span class="nc" id="L52">	COMPLETE_EQ_BASECOST(&quot;BASECOST&quot;, new String[]{&quot;BASECOST&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc" id="L60">			return new EQBaseCostTermEvaluator(expressionString);</span>
		}
	},

<span class="nc" id="L64">	COMPLETE_EQ_CRITMULT(&quot;CRITMULT&quot;, new String[]{&quot;CRITMULT&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc" id="L72">			return new EQCritMultTermEvaluator(expressionString);</span>
		}
	},

<span class="nc" id="L76">	COMPLETE_EQ_DMGDICE(&quot;DMGDICE&quot;, new String[]{&quot;DMGDICE&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc" id="L84">			return new EQDamageDiceTermEvaluator(expressionString);</span>
		}
	},

<span class="nc" id="L88">	COMPLETE_EQ_DMGDIE(&quot;DMGDIE&quot;, new String[]{&quot;DMGDIE&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc" id="L96">			return new EQDamageDieTermEvaluator(expressionString);</span>
		}
	},
<span class="nc" id="L99">	COMPLETE_EQ_EQACCHECK(&quot;EQACCHECK&quot;, new String[]{&quot;EQACCHECK&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc" id="L107">			return new EQACCheckTermEvaluator(expressionString);</span>
		}
	},

<span class="nc" id="L111">	COMPLETE_EQ_EQHANDS(&quot;EQHANDS&quot;, new String[]{&quot;EQHANDS&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc" id="L119">			return new EQHandsTermEvaluator(expressionString);</span>
		}
	},

<span class="nc" id="L123">	COMPLETE_EQ_EQSPELLFAIL(&quot;EQSPELLFAIL&quot;, new String[]{&quot;EQSPELLFAIL&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc" id="L131">			return new EQSpellFailureTermEvaluator(expressionString);</span>
		}
	},

<span class="nc" id="L135">	COMPLETE_EQ_EQUIP_SIZE_INT(&quot;EQUIP\\.SIZE(?:\\.INT)?&quot;, new String[]{&quot;EQUIP.SIZE.INT&quot;, &quot;EQUIP.SIZE&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc bnc" id="L143" title="All 2 branches missed.">			if (matchedSection.length() == 14)</span>
			{
<span class="nc" id="L145">				return new EQSizeTermEvaluator(expressionString);</span>
			}
			else
			{
<span class="nc" id="L149">				return new EQEquipSizeTermEvaluator(expressionString);</span>
			}
		}
	},

<span class="nc" id="L154">	COMPLETE_EQ_HEADPLUSTOTAL(&quot;HEADPLUSTOTAL&quot;, new String[]{&quot;HEADPLUSTOTAL&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc" id="L162">			return new EQHeadPlusTotalTermEvaluator(expressionString);</span>
		}
	},

<span class="nc" id="L166">	COMPLETE_EQ_PLUSTOTAL(&quot;PLUSTOTAL&quot;, new String[]{&quot;PLUSTOTAL&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc" id="L174">			return new EQPlusTotalTermEvaluator(expressionString);</span>
		}
	},

<span class="nc" id="L178">	COMPLETE_EQ_RANGE(&quot;RANGE&quot;, new String[]{&quot;RANGE&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc" id="L186">			return new EQRangeTermEvaluator(expressionString);</span>
		}
	},

<span class="nc" id="L190">	COMPLETE_EQ_REACHMULT(&quot;(?:RACEREACH|REACHMULT|REACH)&quot;, new String[]{&quot;RACEREACH&quot;, &quot;REACHMULT&quot;, &quot;REACH&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc bnc" id="L198" title="All 2 branches missed.">			if (&quot;RACEREACH&quot;.equals(expressionString))</span>
			{
<span class="nc" id="L200">				return new EQRaceReachTermEvaluator(expressionString, src);</span>
			}
<span class="nc bnc" id="L202" title="All 2 branches missed.">			else if (&quot;REACHMULT&quot;.equals(expressionString))</span>
			{
<span class="nc" id="L204">				return new EQReachMultTermEvaluator(expressionString);</span>
			}
<span class="nc bnc" id="L206" title="All 2 branches missed.">			else if (&quot;REACH&quot;.equals(expressionString))</span>
			{
<span class="nc" id="L208">				return new EQReachTermEvaluator(expressionString);</span>
			}
<span class="nc" id="L210">			return null;</span>
		}
	},

<span class="nc" id="L214">	COMPLETE_EQ_SIZE(&quot;SIZE&quot;, new String[]{&quot;SIZE&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc" id="L222">			return new EQSizeTermEvaluator(expressionString);</span>
		}
	},

<span class="nc" id="L226">	COMPLETE_EQ_WT(&quot;WT&quot;, new String[]{&quot;WT&quot;}, true)</span>
	{

		@Override
		public TermEvaluator getTermEvaluator(final String expressionString, final String src,
			final String matchedSection)
		{

<span class="nc" id="L234">			return new EQWeightTermEvaluator(expressionString);</span>
		}
	};

	private final String termConstructorPattern;
	private final String[] termConstructorKeys;
	private final boolean patternMatchesEntireTerm;

	TermEvaluatorBuilderEQVar(String pattern, String[] keys, boolean matchEntireTerm)
<span class="nc" id="L243">	{</span>
<span class="nc" id="L244">		termConstructorPattern = pattern;</span>
<span class="nc" id="L245">		termConstructorKeys = keys;</span>
<span class="nc" id="L246">		patternMatchesEntireTerm = matchEntireTerm;</span>
<span class="nc" id="L247">	}</span>

	@Override
	public String getTermConstructorPattern()
	{
<span class="nc" id="L252">		return termConstructorPattern;</span>
	}

	@Override
	public String[] getTermConstructorKeys()
	{
<span class="nc" id="L258">		return termConstructorKeys;</span>
	}

	@Override
	public boolean isEntireTerm()
	{
<span class="nc" id="L264">		return patternMatchesEntireTerm;</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>