<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TrackingManufacturer.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">pcgen</a> &gt; <a href="index.source.html" class="el_package">pcgen.rules.context</a> &gt; <span class="el_source">TrackingManufacturer.java</span></div><h1>TrackingManufacturer.java</h1><pre class="source lang-java linenums">/*
 * Copyright 2010 (C) Tom Parker &lt;thpr@users.sourceforge.net&gt;
 * 
 * This library is free software; you can redistribute it and/or modify it under
 * the terms of the GNU Lesser General Public License as published by the Free
 * Software Foundation; either version 2.1 of the License, or (at your option)
 * any later version.
 * 
 * This library is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more
 * details.
 * 
 * You should have received a copy of the GNU Lesser General Public License
 * along with this library; if not, write to the Free Software Foundation, Inc.,
 * 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA
 */
package pcgen.rules.context;

import java.util.Collection;
import java.util.Objects;
import java.util.Optional;

import pcgen.base.util.FormatManager;
import pcgen.base.util.Indirect;
import pcgen.cdom.base.CDOMReference;
import pcgen.cdom.base.ClassIdentity;
import pcgen.cdom.base.Loadable;
import pcgen.cdom.reference.CDOMGroupRef;
import pcgen.cdom.reference.CDOMSingleRef;
import pcgen.cdom.reference.ManufacturableFactory;
import pcgen.cdom.reference.ReferenceManufacturer;
import pcgen.cdom.reference.UnconstructedListener;
import pcgen.cdom.reference.UnconstructedValidator;

class TrackingManufacturer&lt;T extends Loadable&gt; implements ReferenceManufacturer&lt;T&gt;
{

	private final ReferenceManufacturer&lt;T&gt; rm;
	private final TrackingReferenceContext context;

	protected TrackingManufacturer(TrackingReferenceContext trc, ReferenceManufacturer&lt;T&gt; mfg)
<span class="fc" id="L43">	{</span>
<span class="fc" id="L44">		context = Objects.requireNonNull(trc);</span>
<span class="fc" id="L45">		rm = Objects.requireNonNull(mfg);</span>
<span class="fc" id="L46">	}</span>

	@Override
	public void addObject(T o, String key)
	{
<span class="nc" id="L51">		rm.addObject(o, key);</span>
<span class="nc" id="L52">	}</span>

	@Override
	public void addUnconstructedListener(UnconstructedListener listener)
	{
<span class="nc" id="L57">		rm.addUnconstructedListener(listener);</span>
<span class="nc" id="L58">	}</span>

	@Override
	public void buildDeferredObjects()
	{
<span class="nc" id="L63">		rm.buildDeferredObjects();</span>
<span class="nc" id="L64">	}</span>

	@Override
	public void constructIfNecessary(String value)
	{
<span class="nc" id="L69">		rm.constructIfNecessary(value);</span>
<span class="nc" id="L70">	}</span>

	@Override
	public T constructNowIfNecessary(String name)
	{
<span class="fc" id="L75">		return rm.constructNowIfNecessary(name);</span>
	}

	@Override
	public T constructObject(String key)
	{
<span class="fc" id="L81">		return rm.constructObject(key);</span>
	}

	@Override
	public boolean containsObjectKeyed(String key)
	{
<span class="nc" id="L87">		return rm.containsObjectKeyed(key);</span>
	}

	@Override
	public boolean forgetObject(T o)
	{
<span class="nc" id="L93">		return rm.forgetObject(o);</span>
	}

	@Override
	public T getActiveObject(String key)
	{
<span class="fc" id="L99">		return rm.getActiveObject(key);</span>
	}

	@Override
	public Collection&lt;T&gt; getAllObjects()
	{
<span class="fc" id="L105">		return rm.getAllObjects();</span>
	}

	@Override
	public CDOMGroupRef&lt;T&gt; getAllReference()
	{
<span class="fc" id="L111">		CDOMGroupRef&lt;T&gt; ref = rm.getAllReference();</span>
<span class="fc" id="L112">		context.trackReference(ref);</span>
<span class="fc" id="L113">		return ref;</span>
	}

	@Override
	public int getConstructedObjectCount()
	{
<span class="fc" id="L119">		return rm.getConstructedObjectCount();</span>
	}

	@Override
	public T getObject(String key)
	{
<span class="nc" id="L125">		return rm.getObject(key);</span>
	}

	@Override
	public CDOMSingleRef&lt;T&gt; getReference(String key)
	{
<span class="fc" id="L131">		CDOMSingleRef&lt;T&gt; ref = rm.getReference(key);</span>
<span class="fc" id="L132">		context.trackReference(ref);</span>
<span class="fc" id="L133">		return ref;</span>
	}

	@Override
	public Class&lt;T&gt; getReferenceClass()
	{
<span class="fc" id="L139">		return rm.getReferenceClass();</span>
	}

	@Override
	public CDOMGroupRef&lt;T&gt; getTypeReference(String... types)
	{
<span class="fc" id="L145">		CDOMGroupRef&lt;T&gt; ref = rm.getTypeReference(types);</span>
<span class="fc" id="L146">		context.trackReference(ref);</span>
<span class="fc" id="L147">		return ref;</span>
	}

	@Override
	public UnconstructedListener[] getUnconstructedListeners()
	{
<span class="nc" id="L153">		return rm.getUnconstructedListeners();</span>
	}

	@Override
	public void removeUnconstructedListener(UnconstructedListener listener)
	{
<span class="nc" id="L159">		rm.removeUnconstructedListener(listener);</span>
<span class="nc" id="L160">	}</span>

	@Override
	public void renameObject(String key, T o)
	{
<span class="nc" id="L165">		rm.renameObject(key, o);</span>
<span class="nc" id="L166">	}</span>

	@Override
	public boolean resolveReferences(UnconstructedValidator validator)
	{
<span class="nc" id="L171">		return rm.resolveReferences(validator);</span>
	}

	@Override
	public boolean validate(UnconstructedValidator validator)
	{
<span class="nc" id="L177">		return rm.validate(validator);</span>
	}

	@Override
	public String getReferenceDescription()
	{
<span class="nc" id="L183">		return rm.getReferenceDescription();</span>
	}

	@Override
	public T buildObject(String name)
	{
<span class="nc" id="L189">		return rm.buildObject(name);</span>
	}

	@Override
	public void fireUnconstuctedEvent(CDOMReference&lt;?&gt; reference)
	{
<span class="nc" id="L195">		rm.fireUnconstuctedEvent(reference);</span>
<span class="nc" id="L196">	}</span>

	@Override
	public Collection&lt;CDOMSingleRef&lt;T&gt;&gt; getReferenced()
	{
<span class="nc" id="L201">		return rm.getReferenced();</span>
	}

	@Override
	public ManufacturableFactory&lt;T&gt; getFactory()
	{
<span class="nc" id="L207">		return rm.getFactory();</span>
	}

	@Override
	public Collection&lt;CDOMReference&lt;T&gt;&gt; getAllReferences()
	{
<span class="nc" id="L213">		return rm.getAllReferences();</span>
	}

	@Override
	public void injectConstructed(ReferenceManufacturer&lt;T&gt; mfg)
	{
<span class="nc" id="L219">		mfg.injectConstructed(mfg);</span>
<span class="nc" id="L220">	}</span>

	@Override
	public void addDerivativeObject(T obj)
	{
<span class="nc" id="L225">		rm.addDerivativeObject(obj);</span>
<span class="nc" id="L226">	}</span>

	@Override
	public Collection&lt;T&gt; getDerivativeObjects()
	{
<span class="nc" id="L231">		return rm.getDerivativeObjects();</span>
	}

	@Override
	public T convert(String arg0)
	{
<span class="fc" id="L237">		return rm.convert(arg0);</span>
	}

	@Override
	public Indirect&lt;T&gt; convertIndirect(String arg0)
	{
<span class="nc" id="L243">		return rm.convertIndirect(arg0);</span>
	}

	@Override
	public String getIdentifierType()
	{
<span class="fc" id="L249">		return rm.getIdentifierType();</span>
	}

	@Override
	public Class&lt;T&gt; getManagedClass()
	{
<span class="fc" id="L255">		return rm.getManagedClass();</span>
	}

	@Override
	public String unconvert(T arg0)
	{
<span class="nc" id="L261">		return rm.unconvert(arg0);</span>
	}

	@Override
	public Optional&lt;FormatManager&lt;?&gt;&gt; getComponentManager()
	{
<span class="fc" id="L267">		return Optional.empty();</span>
	}

	@Override
	public boolean isDirect()
	{
<span class="nc" id="L273">		return rm.isDirect();</span>
	}

	@Override
	public ClassIdentity&lt;T&gt; getReferenceIdentity()
	{
<span class="nc" id="L279">		return rm.getReferenceIdentity();</span>
	}

	@Override
	public String getPersistentFormat()
	{
<span class="nc" id="L285">		return rm.getPersistentFormat();</span>
	}

	@Override
	public int hashCode()
	{
<span class="fc" id="L291">		return 37 + rm.hashCode();</span>
	}

	@Override
	public boolean equals(Object obj)
	{
<span class="pc bpc" id="L297" title="1 of 2 branches missed.">		return (obj instanceof TrackingManufacturer)</span>
<span class="pc bpc" id="L298" title="1 of 2 branches missed.">			&amp;&amp; rm.equals(((TrackingManufacturer&lt;?&gt;) obj).rm);</span>
	}


}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>